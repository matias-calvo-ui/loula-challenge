# Loula Challenge

## Quick Start

- Clone the project
- Go to the project folder: `cd loula-challenge`
- Start the project with these commands:
  - `docker compose build`
  - `docker compose up`
- After docker finishes, you can access the project at http://localhost:3000/

## Project Stack

### DATABASE: PostgreSQL

### BACKEND: Node with Express.js

### FRONTEND: React with Next.js

## Project Folder Structure

Inside the root folder we have the `docker-compose` file, along with the `README.md` and `.gitignore` files. You will find also two folders: `api` and `client`, containing the backend and frontend projects, respectively.

## Project Decisions

- The app it's only processing and showing uds values. I know how to handle both ars and usd currencies, but due to my delay I decided not to include it.

- The requests are automatically processed in the backend following this logic:

  - The request will be approved if the total requested amount is less or equal than the half of the user balance (totalRequestsAmount <= balance / 2).
  - If the user balance it's 1000 USD, the sum of all the requests can't be more than 500 USD.
  - When the requests exceed half of the user balance, will be rejected.
  - In a real case, a more robust logic can be implemented. In order to not taking in to account the money coming from the early access wage, and a void an infinite loop of approved requests
  - In this test project, the approved requests, aren't added to the balance, in order to avoid this. The requests are preapproved but not immediate depositted.

## Frontend Description

As you open the app you will face the authentication screens (Sign in / Sign up). Create an account, and sign in, in order to access the dashboard (authentication it's fully working in the site).

Once inside, there are three available pages:

- The requests page (it's the main one)
- The wage request page
- The wages table page

### Requests Page

Here you will see a table with requests generated by you (the user). It's a simple table. The columns are: ID, Amount, Currency and Status.
Pagination it's not implemented in order to maintain the site simpler.

### Wage Request Page

This page contains only a simple form with two fields: Amount and Currency. After submitting the request you will be redirected to the Requests Page,to see the status of the request.

### Wages Table Page

It's a page with the list of received wages. To have a better insight of each movement. A form was added under the table, only for testing this challenge, to add new wages for the user and increment the balance.

## Backend Description

It's an Express api with four main routers:

### Auth

Containing two routes:

- Sign Up: `/auth/signup`
- Sign In: `/auth/signin`

### Users

Containing two routes:

- Fetch all the users: `/users`
- Fetch a specific user: `/users/:id`

### Wages

Containing two routes:

- Fetch all the wages of a specific user: `/wages/:id`
- Create a wage for a user: `/wages`

### Requests

Containing two routes:

- Fetch all the requests of a specific user: `/requests/:id`
- Create a request for a user: `/requests`
